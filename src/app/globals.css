@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* 사용자 지정 컬러 */
  --custom-primary: #6A5ACD;
  --custom-secondary: #F5F5DC;
  --custom-primary-hover: #5A4ABD;
  --custom-secondary-hover: #E8E8D0;
}

@layer base {
  * {
    @apply border-gray-200;
    box-sizing: border-box;
  }
  
  html {
    /* 모바일 앱을 위한 설정 */
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
    overflow-x: hidden; /* 가로 스크롤 방지 */
    width: 100%;
    max-width: 100vw;
  }
  
  body {
    @apply bg-gray-50 text-gray-900;
    /* 모바일 앱을 위한 설정 */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overscroll-behavior: none;
    overflow-x: hidden; /* 가로 스크롤 방지 */
    width: 100%;
    max-width: 100vw;
    position: relative;
  }

  /* 모든 컨테이너가 화면을 벗어나지 않도록 설정 */
  .container, .max-w-6xl, .max-w-4xl, .max-w-2xl {
    width: 100%;
    max-width: 100vw;
    padding-left: 1rem;
    padding-right: 1rem;
    margin-left: auto;
    margin-right: auto;
    overflow-x: hidden;
  }

  /* 그리드가 화면을 벗어나지 않도록 설정 */
  .grid {
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
  }

  /* flex 컨테이너가 화면을 벗어나지 않도록 설정 */
  .flex {
    min-width: 0;
    max-width: 100%;
  }

  /* 텍스트가 컨테이너를 벗어나지 않도록 설정 */
  .text-ellipsis {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* 이미지가 컨테이너를 벗어나지 않도록 설정 */
  img {
    max-width: 100%;
    height: auto;
  }

  /* 모든 div가 화면을 벗어나지 않도록 설정 */
  div {
    max-width: 100%;
    overflow-x: hidden;
  }

  /* 모든 section이 화면을 벗어나지 않도록 설정 */
  section {
    max-width: 100%;
    overflow-x: hidden;
  }

  /* 모든 main이 화면을 벗어나지 않도록 설정 */
  main {
    max-width: 100%;
    overflow-x: hidden;
  }
}

@layer components {
  .btn-primary {
    @apply bg-[var(--custom-primary)] hover:bg-[var(--custom-primary-hover)] text-white font-medium py-3 px-6 rounded-xl transition-colors duration-200 text-base;
  }

  .btn-secondary {
    @apply bg-[var(--custom-secondary)] hover:bg-[var(--custom-secondary-hover)] text-gray-700 font-medium py-3 px-6 rounded-xl transition-colors duration-200 text-base;
  }
  
  .card {
    @apply bg-white rounded-2xl shadow-sm border border-gray-100 p-6;
  }

  .mobile-header {
    @apply fixed top-0 left-0 right-0 bg-white border-b border-gray-200 px-4 py-4 z-40;
  }

  .mobile-content {
    @apply pt-20 pb-24 px-4;
  }

  .mobile-bottom-nav {
    @apply fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 z-40;
  }

  .mobile-fab {
    @apply fixed bottom-20 right-4 w-14 h-14 bg-[var(--custom-primary)] text-white rounded-full shadow-lg flex items-center justify-center z-40;
  }

  /* 모바일 반응형 유틸리티 */
  .mobile-safe {
    width: 100%;
    max-width: 100vw;
    overflow-x: hidden;
    position: relative;
  }

  .mobile-container {
    width: 100%;
    max-width: 100%;
    padding-left: 1rem;
    padding-right: 1rem;
    margin-left: auto;
    margin-right: auto;
    overflow-x: hidden;
  }

  /* 모바일에서 스크롤 가능한 컨테이너 */
  .mobile-scrollable {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
    max-width: 100%;
  }

  .mobile-scrollable::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }

  /* 모바일에서 그리드 아이템이 화면을 벗어나지 않도록 */
  .mobile-grid-item {
    min-width: 0;
    flex-shrink: 0;
    max-width: 100%;
  }

  /* 모바일에서 텍스트 줄바꿈 */
  .mobile-text-wrap {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }

  /* 모바일에서 카테고리 pills 최적화 */
  .mobile-category-pills {
    display: flex;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
    max-width: 100%;
    padding-bottom: 0.5rem;
  }

  .mobile-category-pills::-webkit-scrollbar {
    display: none;
  }

  .mobile-category-pill {
    flex-shrink: 0;
    white-space: nowrap;
    max-width: none;
  }
}

/* 모바일 특화 미디어 쿼리 */
@media (max-width: 768px) {
  /* 모바일에서 컨테이너 패딩 조정 */
  .mobile-container {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }

  /* 모바일에서 카드 패딩 조정 */
  .card {
    padding: 1rem;
  }

  /* 모바일에서 헤더 패딩 조정 */
  .mobile-header {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }

  /* 모바일에서 하단 네비게이션 패딩 조정 */
  .mobile-bottom-nav {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }

  /* 모바일에서 플로팅 버튼 위치 조정 */
  .mobile-fab {
    bottom: 5rem;
    right: 1rem;
  }

  /* 모바일에서 모든 컨테이너 최적화 */
  .container, .max-w-6xl, .max-w-4xl, .max-w-2xl {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }

  /* 모바일에서 그리드 간격 조정 */
  .grid {
    gap: 1rem;
  }

  /* 모바일에서 카테고리 pills 간격 조정 */
  .mobile-category-pills {
    gap: 0.5rem;
  }
}

/* 매우 작은 화면에서의 추가 조정 */
@media (max-width: 375px) {
  .mobile-container {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }

  .card {
    padding: 0.75rem;
  }

  .container, .max-w-6xl, .max-w-4xl, .max-w-2xl {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }
}
